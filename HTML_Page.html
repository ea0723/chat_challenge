<!DOCTYPE html>
<html>
<head>
	<title>Elena Newton Chat Challenge</title>
	<link rel='stylesheet' type='text/css' href="chat_challenge_CSS.css"/>
</head>
<body>
	<form id="chatForm" method="post">
		<h1>Elena Newton - Chat Challenge</h1> 
		<fieldset>
			<legend>Type Your Message, Click Submit</legend>
			<textarea type="text" class="newMessage" name="message" title="Message" Placeholder="Your message here..." rows="2" cols="75" spellcheck="true"></textarea>
			<div><input type="submit" value="Submit" class="button"/></div>
			<!--the result of the search will be rendered inside this div -->
			<div class="messages" name="messages"></div>
		</fieldset>
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
		<script src="http://codeclasschat.herokuapp.com/helpers.js"></script>
		<script>
		$(document).ready(function(){
		    $(".button").click(function (e) {
				e.preventdefault
	  	      helpers.sendMessage($('.newMessage').val());
	  	      $('.newMessage').val("");
	  	    });
			
			function fetch(){
	            helpers.fetchNewMessages(function (messages) {
	              $.each(messages, function (i, message) {
	                helpers.renderMessage(message);});
				});
			};
		
			function warning(){
				$('.messages').prepend('<li>Clearing Message List in 5 Seconds<li>');
			};
		
			function clear(){
				$('.messages').empty();
			};
		
			setInterval(fetch, 2000);
			setInterval(warning, 35000)
			setInterval(clear, 30000);
		});
		
		</script>
		
	</form>
</body>
</html>
